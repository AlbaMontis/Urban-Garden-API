import*as React from"react";import{observer}from"mobx-react";import{PropertiesTable,PropertiesTableWrap,PropertiesTableCaption}from"../../common-elements/fields-layout";import{Field}from"../Fields/Field";import{DiscriminatorDropdown}from"./DiscriminatorDropdown";import{mapWithLast}from"../../utils";import{OptionsContext}from"../OptionsProvider";export var ObjectSchema=observer((function(e){var t=e.schema,r=t.fields,a=void 0===r?[]:r,i=t.title,n=e.showTitle,o=e.discriminator,l=e.level,s=e.skipWriteOnly,m=e.skipReadOnly,c=e.showAccessMode,p=React.useContext(OptionsContext),d=p.expandSingleSchemaField,u=p.showObjectSchemaExamples,h=p.schemaExpansionLevel,f=m||s?a.filter((function(e){return!(m&&e.schema.readOnly||s&&e.schema.writeOnly)})):a,v=d&&1===f.length||h>=l;return React.createElement(PropertiesTableWrap,null,React.createElement(PropertiesTable,null,n&&React.createElement(PropertiesTableCaption,null,i),React.createElement("tbody",null,mapWithLast(f,(function(e,t){return React.createElement(Field,{key:e.name,isLast:t,field:e,expandByDefault:v,renderDiscriminatorSwitch:(null==o?void 0:o.fieldName)===e.name&&function(){return React.createElement(React.Fragment,null,o.parentSchema?React.createElement(DiscriminatorDropdown,{parent:null==o?void 0:o.parentSchema,enumValues:e.schema.enum}):null)}||void 0,className:e.expanded?"expanded":void 0,showExamples:u,skipReadOnly:m,skipWriteOnly:s,showTitle:n,showAccessMode:c,level:l})})))))}));
//# sourceMappingURL=ObjectSchema.js.map