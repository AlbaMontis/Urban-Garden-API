import{__assign,__decorate,__extends}from"tslib";import{observer}from"mobx-react";import*as React from"react";import{ClickablePropertyNameCell,PropertyLabel,RequiredLabel}from"../../common-elements/fields";import{FieldDetails}from"./FieldDetails";import{InnerPropertiesWrap,PropertyCellWithInner,PropertyDetailsCell,PropertyNameCell}from"../../common-elements/fields-layout";import{ShelfIcon}from"../../common-elements/";import{ShareLinkToField}from"../../common-elements/LinkToField";import{Schema}from"../Schema/Schema";import{OptionsContext}from"../OptionsProvider";var Field=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"toggle",{enumerable:!0,configurable:!0,writable:!0,value:function(){void 0===t.props.field.expanded&&t.props.expandByDefault?t.props.field.collapse():t.props.field.toggle()}}),Object.defineProperty(t,"handleKeyPress",{enumerable:!0,configurable:!0,writable:!0,value:function(e){"Enter"===e.key&&(e.preventDefault(),t.toggle())}}),t}return __extends(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.className,r=void 0===t?"":t,a=e.field,l=e.isLast,n=e.expandByDefault,i=e.showAccessMode,o=a.name,c=a.deprecated,s=a.required,p=a.kind,m=!a.schema.isPrimitive&&!a.schema.isCircular,d=void 0===a.expanded?n:a.expanded,u=React.createElement(React.Fragment,null,"additionalProperties"===p&&React.createElement(PropertyLabel,null,"additional property"),"patternProperties"===p&&React.createElement(PropertyLabel,null,"pattern property"),s&&React.createElement(RequiredLabel,null,"required")),f=m?React.createElement(ClickablePropertyNameCell,{className:c?"deprecated":"",kind:p,title:o},React.createElement("button",{onClick:this.toggle,onKeyPress:this.handleKeyPress,"aria-label":"expand properties"},React.createElement("span",{className:"field-name"},this.context.disableDeepLinks?null:React.createElement(ShareLinkToField,{field:a}),o),React.createElement(ShelfIcon,{direction:d?"down":"right"})),u):React.createElement(PropertyNameCell,{className:c?"deprecated":void 0,kind:p,title:o},React.createElement("span",{className:"field-name"},this.context.disableDeepLinks?null:React.createElement(ShareLinkToField,{field:a}),o),u);return React.createElement(React.Fragment,null,React.createElement("tr",{className:l?"last "+r:r},f,React.createElement(PropertyDetailsCell,null,React.createElement(FieldDetails,__assign({},this.props)))),d&&m&&React.createElement("tr",{key:a.name+"inner"},React.createElement(PropertyCellWithInner,{colSpan:2},React.createElement(InnerPropertiesWrap,null,React.createElement(Schema,{schema:a.schema,skipReadOnly:this.props.skipReadOnly,skipWriteOnly:this.props.skipWriteOnly,showTitle:this.props.showTitle,level:this.props.level,showAccessMode:i})))))}}),Object.defineProperty(t,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:OptionsContext}),t=__decorate([observer],t)}(React.Component);export{Field};
//# sourceMappingURL=Field.js.map