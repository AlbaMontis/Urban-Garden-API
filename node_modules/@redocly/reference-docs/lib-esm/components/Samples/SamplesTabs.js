import{__assign,__rest}from"tslib";import React,{useContext,useEffect,useState,useMemo}from"react";import{observer}from"mobx-react";import{CollapsingTabsBase}from"../Tabs";import{StoreContext}from"../../redoc-lib";import{LoadingWrapper}from"./LoadingWrapper";import{WarnMessage}from"../shared";export var SamplesTabs=observer((function(e){var a=e.children,t=e.onChange,n=e.defaultLanguage,r=__rest(e,["children","onChange","defaultLanguage"]),o=useMemo((function(){return r.tabs.map((function(e){return e.lang}))}),[r.tabs]),s=useContext(StoreContext),u=useState(n),i=u[0],l=u[1],c=useState(o),f=c[0],g=c[1];useEffect((function(){return g(o)}),[r.tabs]),useEffect((function(){return null==s?void 0:s.stopLoader()}),[null==s?void 0:s.activeSampleLanguage]),useEffect((function(){i&&(null==s||s.startLoader(),null==s||s.activateSampleLanguage(i))}),[i,n]);var m;return React.createElement(LoadingWrapper,{className:i&&"updated"},React.createElement(CollapsingTabsBase,__assign({},r,{activeIndex:(m=f.indexOf(i||(null==s?void 0:s.activeSampleLanguage)||""),-1===m?0:m),onChange:function(e){var a=r.tabs[e];l(a.lang),t&&t(a)}}),n&&-1===f.indexOf(n)&&React.createElement(WarnMessage,null,"Provided language is not supported"),a))}));
//# sourceMappingURL=SamplesTabs.js.map