"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectSchema=void 0;var tslib_1=require("tslib"),React=(0,tslib_1.__importStar)(require("react")),mobx_react_1=require("mobx-react"),fields_layout_1=require("../../common-elements/fields-layout"),Field_1=require("../Fields/Field"),DiscriminatorDropdown_1=require("./DiscriminatorDropdown"),utils_1=require("../../utils"),OptionsProvider_1=require("../OptionsProvider");exports.ObjectSchema=(0,mobx_react_1.observer)((function(e){var t=e.schema,r=t.fields,i=void 0===r?[]:r,a=t.title,l=e.showTitle,n=e.discriminator,o=e.level,s=e.skipWriteOnly,c=e.skipReadOnly,d=e.showAccessMode,m=React.useContext(OptionsProvider_1.OptionsContext),u=m.expandSingleSchemaField,p=m.showObjectSchemaExamples,_=m.schemaExpansionLevel,h=c||s?i.filter((function(e){return!(c&&e.schema.readOnly||s&&e.schema.writeOnly)})):i,v=u&&1===h.length||_>=o;return React.createElement(fields_layout_1.PropertiesTableWrap,null,React.createElement(fields_layout_1.PropertiesTable,null,l&&React.createElement(fields_layout_1.PropertiesTableCaption,null,a),React.createElement("tbody",null,(0,utils_1.mapWithLast)(h,(function(e,t){return React.createElement(Field_1.Field,{key:e.name,isLast:t,field:e,expandByDefault:v,renderDiscriminatorSwitch:(null==n?void 0:n.fieldName)===e.name&&function(){return React.createElement(React.Fragment,null,n.parentSchema?React.createElement(DiscriminatorDropdown_1.DiscriminatorDropdown,{parent:null==n?void 0:n.parentSchema,enumValues:e.schema.enum}):null)}||void 0,className:e.expanded?"expanded":void 0,showExamples:p,skipReadOnly:c,skipWriteOnly:s,showTitle:l,showAccessMode:d,level:o})})))))}));
//# sourceMappingURL=ObjectSchema.js.map