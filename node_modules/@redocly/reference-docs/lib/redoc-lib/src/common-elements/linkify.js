"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShareLink=exports.Link=exports.linkifyMixin=exports.userIsForcingNavigation=void 0;var tslib_1=require("tslib"),react_1=(0,tslib_1.__importStar)(require("react")),StoreBuilder_1=require("../components/StoreBuilder"),styled_components_1=(0,tslib_1.__importStar)(require("../styled-components")),icons_1=require("./icons");function userIsForcingNavigation(n){return 0!==n.button||n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}exports.userIsForcingNavigation=userIsForcingNavigation;var linkifyMixin=function(n,e){return(0,styled_components_1.css)(templateObject_1||(templateObject_1=(0,tslib_1.__makeTemplateObject)(["\n  "," {\n    cursor: pointer;\n    line-height: inherit;\n    display: inline-block;\n    outline: 0;\n    position: absolute;\n    padding-right: 4px;\n    transform: translateX(-100%);\n  }\n\n  "," "," {\n    width: ",";\n    height: ",";\n    visibility: hidden;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  h1:hover\n    > ","\n    ",",\n    h2:hover\n    > ","\n    ",",\n    ",":hover\n    "," {\n    visibility: visible;\n  }\n\n  ",":focus "," {\n    visibility: visible;\n  }\n"],["\n  "," {\n    cursor: pointer;\n    line-height: inherit;\n    display: inline-block;\n    outline: 0;\n    position: absolute;\n    padding-right: 4px;\n    transform: translateX(-100%);\n  }\n\n  "," "," {\n    width: ",";\n    height: ",";\n    visibility: hidden;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  h1:hover\n    > ","\n    ",",\n    h2:hover\n    > ","\n    ",",\n    ",":hover\n    "," {\n    visibility: visible;\n  }\n\n  ",":focus "," {\n    visibility: visible;\n  }\n"])),n,n,icons_1.LinkIcon,e,e,n,icons_1.LinkIcon,n,icons_1.LinkIcon,n,icons_1.LinkIcon,n,icons_1.LinkIcon)};function Link(n){var e,i,t,r,l=(0,react_1.useCallback)((function(e,i){i.defaultPrevented||userIsForcingNavigation(i)||(i.preventDefault(),e.replace(encodeURI(n.to)))}),[n.to]),o=(0,StoreBuilder_1.useStore)();if(n.security){var s=null===(e=null==o?void 0:o.options.hooks)||void 0===e?void 0:e.replaceSecurityLink;r=s&&s({securityRequirementId:n.to})}else r=null===(t=null==o?void 0:(i=o.menu.history).linkForId)||void 0===t?void 0:t.call(i,n.to);return r?react_1.default.createElement("a",{className:n.className,href:r,onClick:l.bind(this,null==o?void 0:o.menu.history),"aria-label":n.to},n.children):n.children?react_1.default.createElement("span",{className:n.className}," ",n.children," "):null}exports.linkifyMixin=linkifyMixin,exports.Link=Link;var templateObject_1,templateObject_2,StyledShareLink=(0,styled_components_1.default)(Link)(templateObject_2||(templateObject_2=(0,tslib_1.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(0,exports.linkifyMixin)("&","18px"));function ShareLink(n){return react_1.default.createElement(StyledShareLink,{to:n.to},react_1.default.createElement(icons_1.LinkIcon,null))}exports.ShareLink=ShareLink;
//# sourceMappingURL=linkify.js.map