"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedocNormalizedOptions=void 0;var tslib_1=require("tslib"),mobx_1=require("mobx"),theme_1=(0,tslib_1.__importStar)(require("../theme")),utils_1=require("../utils"),Labels_1=require("./Labels"),RedocNormalizedOptions=function(){function e(a,t){var i,l,r,o,n,s;void 0===t&&(t={}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollYOffset",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideHostname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideInfoDescription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expandResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requiredPropsFirst",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sortPropsAlphabetically",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sortEnumValuesAlphabetically",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sortOperationsAlphabetically",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sortTagsAlphabetically",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativeScrollbars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathInMiddlePanel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"untrustedDefinition",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideDownloadButton",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"downloadDefinitionUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disableSearch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showChangeLayoutButton",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onlyRequiredInSamples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showConsole",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendXUserAgentInTryIt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generatedPayloadSamplesMaxDepth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showExtensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideSingleRequestSampleTab",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideRequestPayloadSample",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"menuToggle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"jsonSampleExpandLevel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"enumSkipQuotes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideSchemaTitles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showSecuritySchemeType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simpleOneOfTypeLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"payloadSampleIdx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expandSingleSchemaField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schemaExpansionLevel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"samplesTabsMaxCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unstable_tryItButtonOverride",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"allowedMdComponents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expandDefaultServerVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expandDefaultRequest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expandDefaultResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDisplayedEnumValues",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreNamedSchemas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unstable_ignoreMimeParameters",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"unstable_externalCodeSamples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideSchemaPattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOneOfDescription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideFab",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schemaDefinitionsTagName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minCharacterLengthToInitSearch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxResponseHeadersToShowInTryIt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showWebhookVerb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showObjectSchemaExamples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,mobx_1.makeObservable)(this);var u=null===(i=(a=(0,tslib_1.__assign)((0,tslib_1.__assign)({},t),a)).theme)||void 0===i?void 0:i.extensionsHook;(null===(l=a.theme)||void 0===l?void 0:l.menu)&&!(null===(r=a.theme)||void 0===r?void 0:r.sidebar)&&(console.warn('Theme setting "menu" is deprecated. Rename to "sidebar"'),a.theme.sidebar=a.theme.menu),(null===(o=a.theme)||void 0===o?void 0:o.codeSample)&&!(null===(n=a.theme)||void 0===n?void 0:n.codeBlock)&&(console.warn('Theme setting "codeSample" is deprecated. Rename to "codeBlock"'),a.theme.codeBlock=a.theme.codeSample),this.theme=(0,theme_1.resolveTheme)((0,utils_1.mergeObjects)({},theme_1.default,(0,tslib_1.__assign)((0,tslib_1.__assign)({},a.theme),{extensionsHook:void 0}))),this.theme.mediaQueries={print:"@media print"};for(var b=0,d=Object.entries(this.theme.breakpoints);b<d.length;b++){var h=d[b],c=h[0],m=h[1];this.theme.mediaQueries[c]="@media screen and (min-width: "+m+")"}this.theme.extensionsHook=u,(0,Labels_1.setRedocLabels)(a.labels),this.scrollYOffset=e.normalizeScrollYOffset(a.scrollYOffset),this.hideHostname=e.normalizeHideHostname(a.hideHostname),this.expandResponses=e.normalizeExpandResponses(a.expandResponses),this.requiredPropsFirst=(0,utils_1.argValueToBoolean)(a.requiredPropsFirst),this.sortPropsAlphabetically=(0,utils_1.argValueToBoolean)(a.sortPropsAlphabetically),this.sortEnumValuesAlphabetically=(0,utils_1.argValueToBoolean)(a.sortEnumValuesAlphabetically),this.sortOperationsAlphabetically=(0,utils_1.argValueToBoolean)(a.sortOperationsAlphabetically),this.sortTagsAlphabetically=(0,utils_1.argValueToBoolean)(a.sortTagsAlphabetically),this.nativeScrollbars=(0,utils_1.argValueToBoolean)(a.nativeScrollbars),this.pathInMiddlePanel=(0,utils_1.argValueToBoolean)(a.pathInMiddlePanel),this.untrustedDefinition=(0,utils_1.argValueToBoolean)(a.untrustedDefinition),this.hideDownloadButton=void 0===a.hideDownloadButton?null:(0,utils_1.argValueToBoolean)(a.hideDownloadButton),this.downloadDefinitionUrl=a.downloadDefinitionUrl,this.hideInfoDescription=(0,utils_1.argValueToBoolean)(a.hideInfoDescription),this.disableSearch=(0,utils_1.argValueToBoolean)(a.disableSearch),this.onlyRequiredInSamples=(0,utils_1.argValueToBoolean)(a.onlyRequiredInSamples),this.generatedPayloadSamplesMaxDepth=(0,utils_1.argValueToInt)(a.generatedPayloadSamplesMaxDepth)||8,this.sendXUserAgentInTryIt=(0,utils_1.argValueToBoolean)(a.sendXUserAgentInTryIt),this.showExtensions=e.normalizeShowExtensions(a.showExtensions),this.hideSingleRequestSampleTab=(0,utils_1.argValueToBoolean)(a.hideSingleRequestSampleTab),this.hideRequestPayloadSample=(0,utils_1.argValueToBoolean)(a.hideRequestPayloadSample),this.menuToggle=(0,utils_1.argValueToBoolean)(a.menuToggle,!0),this.jsonSampleExpandLevel=(0,utils_1.argValueToExpandLevel)(a.jsonSampleExpandLevel,2),this.enumSkipQuotes=(0,utils_1.argValueToBoolean)(a.enumSkipQuotes),this.hideSchemaTitles=(0,utils_1.argValueToBoolean)(a.hideSchemaTitles),this.showSecuritySchemeType=(0,utils_1.argValueToBoolean)(a.showSecuritySchemeType),this.simpleOneOfTypeLabel=(0,utils_1.argValueToBoolean)(a.simpleOneOfTypeLabel),this.payloadSampleIdx=e.normalizePayloadSampleIdx(a.payloadSampleIdx),this.expandSingleSchemaField=(0,utils_1.argValueToBoolean)(a.expandSingleSchemaField),this.schemaExpansionLevel=(0,utils_1.argValueToExpandLevel)(a.schemaExpansionLevel),this.samplesTabsMaxCount=(0,utils_1.argValueToInt)(a.samplesTabsMaxCount)||5,this.unstable_tryItButtonOverride=a.unstable_tryItButtonOverride||null,this.unstable_ignoreMimeParameters=(0,utils_1.argValueToBoolean)(a.unstable_ignoreMimeParameters),this.allowedMdComponents=a.allowedMdComponents||{},this.expandDefaultServerVariables=(0,utils_1.argValueToBoolean)(a.expandDefaultServerVariables),this.expandDefaultRequest=(0,utils_1.argValueToBoolean)(a.expandDefaultRequest,!0),this.expandDefaultResponse=(0,utils_1.argValueToBoolean)(a.expandDefaultResponse,!0),this.maxDisplayedEnumValues=(0,utils_1.argValueToNumber)(a.maxDisplayedEnumValues);var p=Array.isArray(a.ignoreNamedSchemas)?a.ignoreNamedSchemas:null===(s=a.ignoreNamedSchemas)||void 0===s?void 0:s.split(",").map((function(e){return e.trim()}));this.ignoreNamedSchemas=new Set(p),this.unstable_externalCodeSamples=a.unstable_externalCodeSamples||[],this.hooks=a.hooks||{},this.hooks.ReplaceTryItAuthPanel&&!this.hooks.ReplaceTryItSecurityPanel&&(console.warn("[warn] ReplaceTryItAuthPanel is deprecated, use ReplaceTryItSecurityPanel instead"),this.hooks.ReplaceTryItSecurityPanel=this.hooks.ReplaceTryItAuthPanel),this.hideSchemaPattern=(0,utils_1.argValueToBoolean)(a.hideSchemaPattern),this.hideOneOfDescription=(0,utils_1.argValueToBoolean)(a.hideOneOfDescription),this.hideFab=(0,utils_1.argValueToBoolean)(a.hideFab),this.schemaDefinitionsTagName=a.schemaDefinitionsTagName,this.minCharacterLengthToInitSearch=(0,utils_1.argValueToNumber)(a.minCharacterLengthToInitSearch)||3,this.maxResponseHeadersToShowInTryIt=(0,utils_1.argValueToNumber)(a.maxResponseHeadersToShowInTryIt)||0,this.showWebhookVerb=(0,utils_1.argValueToBoolean)(a.showWebhookVerb),this.showObjectSchemaExamples=(0,utils_1.argValueToBoolean)(a.showObjectSchemaExamples)}return Object.defineProperty(e,"normalizeExpandResponses",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if("all"===e)return"all";if("string"==typeof e){var a={};return e.split(",").forEach((function(e){a[e.trim()]=!0})),a}return void 0!==e&&console.warn('expandResponses must be a string but received value "'+e+'" of type '+typeof e),{}}}),Object.defineProperty(e,"normalizeHideHostname",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!e}}),Object.defineProperty(e,"normalizeScrollYOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if("string"==typeof e&&!(0,utils_1.isNumeric)(e)){var a=(0,utils_1.querySelector)(e);a||console.warn("scrollYOffset value is a selector to non-existing element. Using offset 0 by default");var t=a&&a.getBoundingClientRect().bottom||0;return function(){return t}}return"number"==typeof e||(0,utils_1.isNumeric)(e)?function(){return"number"==typeof e?e:parseFloat(e)}:"function"==typeof e?function(){var a=e();return"number"!=typeof a&&console.warn('scrollYOffset should return number but returned value "'+a+'" of type '+typeof a),a}:(void 0!==e&&console.warn("Wrong value for scrollYOffset ReDoc option: should be string, number or function"),function(){return 0})}}),Object.defineProperty(e,"normalizeShowExtensions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e)return!1;if(""===e)return!0;if("string"!=typeof e)return e;switch(e){case"true":return!0;case"false":return!1;default:return e.split(",").map((function(e){return e.trim()}))}}}),Object.defineProperty(e,"normalizePayloadSampleIdx",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return"number"==typeof e?Math.max(0,e):"string"==typeof e&&isFinite(e)?parseInt(e,10):0}}),(0,tslib_1.__decorate)([mobx_1.observable],e.prototype,"showConsole",void 0),e}();exports.RedocNormalizedOptions=RedocNormalizedOptions;
//# sourceMappingURL=RedocNormalizedOptions.js.map