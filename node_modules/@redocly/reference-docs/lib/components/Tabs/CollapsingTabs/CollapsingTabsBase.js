"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CollapsingTabsBase=void 0;var tslib_1=require("tslib"),react_1=(0,tslib_1.__importStar)(require("react")),react_tabs_1=require("react-tabs"),redoc_lib_1=require("../../../redoc-lib"),CollapsingTabList_1=require("./CollapsingTabList"),CollapsingTab_1=require("./CollapsingTab"),Dropdown_1=require("../../common/Dropdown"),CollapsingTabsBase=function(e){var t=e.tabs,a=e.children,l=e.hidden,r=e.activeIndex,n=e.onChange,i=(0,react_1.useContext)(redoc_lib_1.OptionsContext).samplesTabsMaxCount,o=(0,react_1.useMemo)((function(){return t.slice(i).map((function(e,t){return{idx:t,value:e.title}}))}),[t,i]),s=o.length+" more",c=(0,react_1.useState)(s),u=c[0],_=c[1],d=react_1.default.useCallback((function(){var e=r>=i;u!==s&&u===t[r].title||!e?u===s||e||_(s):_(t[r].title)}),[r,i,u,s,t]);(0,react_1.useEffect)((function(){setTimeout(d,0)}),[r,i,d]);return react_1.default.createElement(react_tabs_1.Tabs,{selectedIndex:r,onSelect:n},react_1.default.createElement(CollapsingTabList_1.CollapsingTabList,{hidden:l},t.map((function(e,t){return react_1.default.createElement(CollapsingTab_1.CollapsingTab,{key:e.key,disabled:t>=i},e.title)})),o.length?react_1.default.createElement(Dropdown_1.CollapsingDropdown,{options:o,onChange:function(e){n(i+e.idx)},placeholder:s,value:u,active:r>=i}):null),a)};exports.CollapsingTabsBase=CollapsingTabsBase;
//# sourceMappingURL=CollapsingTabsBase.js.map